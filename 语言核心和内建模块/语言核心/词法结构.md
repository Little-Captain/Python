# 词法结构

* 编程语言的词法结构是一组基本规则，用于控制用该语言编写程序的方式。

* 词法结构是语言的最底层语法，用于指定诸如变量名看起来是怎样的以及如何表示注释之类的内容。

* 和任何其他文本文件一样，每个 Python 源文件都是一个字符序列。

* Python 非常注重程序布局，尤其是关于行和缩进。

## 行与缩进

* Python 程序由一系列逻辑行组成，每个逻辑行由一个或多个物理行组成。每个物理行都可以以注释结尾。

* 不在字符串文字中的 # 号开始注释。 # 之后的所有字符均为注释。仅包含空格的行是空白行：Python 会忽略它。

* 在 Python 中，物理行的结尾标记了大多数语句的结尾。不使用定界符(例如，分号)来终止 Python 语句。

* 当一条语句太长而无法放在物理行上时，可以通过确保第一条物理行没有注释并以反斜杠(`\`)结尾，将两条相邻的物理行连接到一条逻辑行中。

* 如果存在尚未关闭左括号(()，方括号([)或花括号({)，则 Python 也会自动将相邻的物理行合并为一条逻辑行。

* 用三引号引起来的字符串文字可以跨越物理行。

* 逻辑行中第一个物理行之后的物理行称为续行。

* 缩进问题适用于每条逻辑行的第一条物理行，不适用于延续线。

* Python 使用缩进来表示程序的块结构。缩进是表示块的唯一方法。

* Python 程序中的每个逻辑行均以其左侧的空格缩进。块是连续的逻辑行序列，所有逻辑行都缩进相同的数量；缩进较少的逻辑行将结束该块。块中的所有语句必须与复合语句中的所有子句具有相同的缩进。

* 源文件中的第一条语句必须没有缩进。在交互式解释器主提示符 >>> 上键入的语句也必须没有缩进。

* v2 逻辑上将每个制表符最多替换八个空格，以便该制表符后的下一个字符进入逻辑列 9、17、25，依此类推。

* 标准 Python 样式是每个缩进级别使用四个空格(从不使用制表符)。

* 不要混用空格和制表符来缩进，因为不同的工具对制表符的处理方式有所不同。

* v2 Python 解释器的 -t 和 -tt 选项确保避免 Python 源代码中的制表符和空格使用不一致。

* 在 v3 中，Python 不允许混合使用制表符和空格进行缩进。

* 使用空格，而不是制表符。建议配置自己喜欢的编辑器以将制表符替换为四个空格。这样，所有 Python 源代码仅包含空格，而不包含制表符。这样，所有工具在处理 Python 源文件中的缩进方面都是一致的。

* 最佳的 Python 风格是将代码块缩进四个空格，并且不使用制表符。

## 字符集

* v3 源文件可以使用编码为 UTF-8 的任何 Unicode 字符。

* v2 源文件通常由 ASCII 集中的字符组成。

* 在 v2 和 v3 中，都可以选择告诉 Python 某个源文件是以不同的编码编写的。在这种情况下，Python 使用该编码来读取文件(在 v2 中，只能在注释和字符串文字中使用非 ASCII 字符)。

* 要让 Python 知道源文件是用非标准编码编写的，请在源文件开始添加注释(例如 `# coding: iso-8859-1`)。`coding:` 后写出 Python 已知且兼容的 ASCII 编解码器名称(例如 utf-8 或 iso-8859-1)。请注意，只有在源文件的开头(可以在"shebang 行" 之后)，这种编码指令注释(也称为编码声明)才有效。

* v2 中编码指令的唯一作用是可以在字符串文字和注释中使用非 ASCII 字符。

* 最佳做法是对所有文本文件(包括 Python 源文件)使用 utf-8。

## Tokens

* Python 将每一逻辑行分成一系列称为 Token 的基本词汇组成部分。

* 每个 Token 对应于逻辑行的子字符串。

* 一般 Token 的类型有标识符，关键字，运算符，定界符和字面量。

* 可以在 Token 之间自由使用空格来分隔它们。

* 在逻辑上相邻的标识符或关键字之间必须有一些空格分隔；否则，Python 会将它们解析为一个更长的标识符。

### 标识符

* 标识符用于指定变量，函数，类，模块或其他对象的名称。

* 标识符以字母开头(在 v2 中，从 A 到 Z 或从 a 到 z；在 v3 中，允许使用 Unicode 字符）或下划线(_)，然后是零个或多个字母，下划线和数字(在 v2 中，从 0 到 9；在 v3 中，允许使用 Unicode 字符)。

* 标识符区分大小写：小写字母和大写字母不同。标点字符(例如 @，$ 和 ! 不允许用在标识符中)。

* 通常的 Python 风格是以大写字母开头的类名，以小写字母开头的其他标识符。

* 以单个下划线开头的标识符(`_name`)按惯例表示该标识符是私有的。

* 以两个下划线开头的标识符(`__name`)表示该标识符是高度私的。

* 如果标识符以两个下划线开头，且以两个下划线结尾(`__name__`)，则表示该标识符是语言定义的特殊名称。

* 标识符 `_` 在交互式解释器中是有特殊含义的。如果交互式解释器求值的最后一个表达式有值结果，就将结果绑定到 _；如果没有，不做任何绑定。

### 关键字

|  |  |  |  |  |  |  |  |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
| and | continue | except | global | lambda | raise | yield | `async`(v3) |
| as | def | `exec`(v2) | if | not | return | `False`(v3) | `await`(v3) |
| assert | del | finally | import | or | try | `None`(v3) |
| break | elif | for | in | pass | while | `True`(v3) |
| class | else | from | is | `print`(v2) | with | `nonlocal`(v3) |

* Python 关键字是 Python 保留用于特殊语法的标识符。不能将关键字用作常规标识符("关键字"也称为"保留字")。

* 在 v3 中，exec 和 print 不再是关键字：它们在 v2 中是语句，但在 v3 中是函数。

* False，None，True 和 nonlocal 是 v3 中的新增关键字。其中 False，None 和 True 是 v2 中的内置常量，但不是关键字。

* async 和 await 是 Python 3.7 中的新增的关键字。

* v2 有 31 个关键字(不再增加)；v3 有 35 个关键字(还在增加)。

### 运算符

|  |  |  |  |  |  |  |  |  |  |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
| + | - | * | / | % | ** | // | << | >> | & |
| \| | ^ | ~ | < | <= | > | >= | <> | != | == |
| `@`(v3) |

* 在 v3 中，@ 可以作为用于矩阵乘法的运算符。

### 定界符

### 字面量

## 语句
