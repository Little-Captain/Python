# 变量和引用

* Python 程序通过`引用访问数据值`。

* `引用`是指引用值(`对象`)的"`名称`"。

* 引用采用`变量`(variables)，`属性`(attributes)和`项`(items)的形式。

* 在 Python 中，`变量或其他引用没有内部类型`。

* 在`某个时间`，绑定到`引用的对象`始终具有`一种类型`，但给定`引用`可以在`程序执行过程中绑定到各种类型的对象`。

## 变量

* 在 Python 中，`没有"声明"`。`变量的存在始于绑定变量的语句`(换言之，`设置名称以保留对某个对象的引用`)。

* 当然也可以`取消绑定变量`，重设名称，使其不再保留引用。

* `赋值语句`是绑定变量和其他引用的最常用方法。`del 语句`用于取消绑定引用。

* 绑定已经绑定的引用称为`重新绑定`。重新绑定或取消绑定引用对引用所绑定的对象没有影响，当然`在对象没有引用时会被垃圾回收`。没有引用的对象的清理称为`垃圾回收`。

* `变量名不能使用`保留为 `Python 关键字`的标识符。

* 变量可以是全局变量或局部变量。`全局变量`是`模块对象的属性`。`局部变量`位于`函数的局部命名空间中`。

* 在 Python 中变量的作用域有：`函数作用域`，`模块作用域`。

### 对象的属性(attributes)和项(items)

* 对象的`属性`和`项`之间的主要`区别`在`于`用于`访问`它们的`语法`。

* 要访问对象的`属性`，使用`点语法(x.y)`，具体使用对该对象的引用，然后跟一个句点(`.`)，后跟一个称为属性名的标识符。

* 要访问对象的`项`，使用`下标访问语法(x[y])`，具体使用对该对象的引用，然后跟方括号([])并包裹一个表达式。方括号中的表达式称为项的索引或键，而对象称为项的容器。

* `可调用的属性`也称为`方法`。Python 在`可调用属性`和`不可调用属性`之间`没有严格区分`。`有关属性的所有规则也适用于可调用属性(方法)`。

### 访问不存在的引用

* 常见的`编程错误`是`试图访问不存在的引用`。

* Python `编译器`在`分析和编译源代码`时，`只`会`诊断语法错误`。编译`不`会`诊断语义错误`。

* Python 仅在错误代码执行时(即`运行时`)`诊断语义错误`。当某个操作是 Python `语义错误`的，尝试`执行该操作`会`引发异常`。

* `访问不存在`的`变量`，`属性`或`项`均`属于` Python `语义错误`，会`引发异常`。

## 赋值语句

* 赋值语句可以是`简单赋值`或`复合赋值`。

* `简单赋值`给`变量值`(`name=value`)是`创建新变量`或`将现有变量重新绑定到新值`的方式。

* 对`对象属性`的`简单赋值`(`x.attr=value`)是请求对对象`创建`或`重新绑定属性`。

* 对`容器`中某个`项`的`简单赋值`(`x[k]=value`)是请求对容器`创建`该`项`或将`索引或键重新绑定`。

* `复合赋值`本身`无法创建新的引用`。

* `复合赋值`可以`重新绑定变量`，请求对象`重新绑定`其现有属性或项之一，或请求目标对象`修改自身值`。

* 当请求对对象使用`复合赋值`时，由`对象决定`是否以及`如何满足请求`以及`是否抛出异常`。

### 简单赋值

* 最简单形式的简单赋值语句语法：`target = expression`

* 执行赋值时，Python 会评估 expression，然后将 expression 的值绑定到 target。

* 绑定不依赖于 expression 值的类型。在赋值时，Python 在可调用对象和不可调用对象之间没有严格区分，因此可以将函数，方法，类型和其他可调用对象绑定到变​​量，就像可以数字，字符串，列表等绑定到变量一样。在 Python 中，函数是一等公民。

* 绑定依赖于 target 的类型。赋值中的 target 可以是标识符，属性引用，索引或切片。

| target 的类型 | 语法 | 说明 |
| :-: | :-: | :-: |
| 标识符 | name = value | 将 value 与标识符(name)绑定 |
| 属性引用 | obj.name = value | 将 value 与对象 obj 的 name 属性绑定 |
| 索引(键) | obj[expr] = value | 将 value 与容器 obj 的 expr 索引(键)指示的项绑定 |
| 切片 | obj[start:stop:stride] = value 或 obj[slice(start, stop, stride)] | 将 value 中的项与容器 obj 的切片指示的那些项绑定(一般要求 value 中项的个数要与切片中项的个数相等) |

* 当赋值的 target 是标识符时，赋值语句完成变量的绑定。

* 一般情况下，针对对象使用赋值语句将创建或重新绑定一个或多个属性或项。

* 对象可能拒绝创建或重新绑定某些(或全部)属性或项，如果尝试赋值禁止创建或重新绑定的属性或项，则会引发异常。

* 简单赋值可以有多个 target，它们需要使用多个赋值运算符连接起来。

```python
a = b = c = 0
```

### 复合赋值

## del 语句
